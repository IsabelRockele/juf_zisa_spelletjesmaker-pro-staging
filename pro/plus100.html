<!DOCTYPE html>
<html lang="nl">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <base href="/juf_zisa_spelletjesmaker-pro-staging/pro/">
  <title>Hulpschema +</title>
  <link rel="stylesheet" href="../hulpschema.css">
</head>
<body>
  <h1>Hulpschema +</h1>

  <div class="content-wrapper">
    <div id="sidebar">
      <!-- AANGEPAST: Terug-knop via helper -->
      <button onclick="__goBackHulpschema()" class="knop terug">Terug</button>
      <button id="reset" class="knop reset">Opnieuw</button>
      <!-- AANGEPAST: Wissel-knop via helper (behoudt ?kid en ?range) -->
      <button onclick="__wisselHulpschema('min100.html')" class="knop wissel">Wisselen naar -</button>
    </div>

    <div id="main">
      <div id="toolbar">
        <button id="blokjes">Blokjes</button>
        <button id="schijfjes">Schijfjes</button>
        <div class="tool geel-blok" draggable="true" id="kubus" style="display: none;"></div>
        <div class="tool staaf-groen" draggable="true" id="staaf" style="display: none;">
          <div class="verdeling">
            <div class="lijn" style="left: 20px;"></div><div class="lijn" style="left: 40px;"></div>
            <div class="lijn" style="left: 60px;"></div><div class="lijn" style="left: 80px;"></div>
            <div class="lijn" style="left: 100px;"></div><div class="lijn" style="left: 120px;"></div>
            <div class="lijn" style="left: 140px;"></div><div class="lijn" style="left: 160px;"></div>
            <div class="lijn" style="left: 180px;"></div>
          </div>
        </div>
        <div class="tool schijf geel" draggable="true" id="schijf-geel" style="display: none;"><span>1</span></div>
        <div class="tool schijf groen" draggable="true" id="schijf-groen" style="display: none;"><span>10</span></div>
      </div>

      <div id="schema" style="display: block;">
        <div class="schema-header">
          <div class="label-t">T</div>
          <div class="label-e">E</div>
        </div>
        <div class="schema-light">
          <div class="light-t"></div>
          <div class="light-e"></div>
        </div>
        <div class="schema-body">
          <div class="vak wit"></div>
          <div class="vak wit">
            <div class="doel-vak">
              <svg class="svg-pijl" viewBox="0 0 100 100">
                <defs>
                  <marker id="arrowhead" markerWidth="10" markerHeight="7"
                          refX="0" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#0077cc"/>
                  </marker>
                </defs>
                <line x1="95" y1="95" x2="10" y2="10" stroke="#0077cc" stroke-width="5" marker-end="url(#arrowhead)" />
              </svg>
              <div class="cirkelrij">
                <div class="cirkel"></div><div class="cirkel"></div><div class="cirkel"></div><div class="cirkel"></div><div class="cirkel"></div>
              </div>
              <div class="cirkelrij">
                <div class="cirkel"></div><div class="cirkel"></div><div class="cirkel"></div><div class="cirkel"></div><div class="cirkel"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="schema-body">
          <div class="vak wit"></div>
          <div class="vak wit"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- HELPER-SCRIPT: terug en wissel (kidmodus-veilig) -->
  <script>
    // Terug: in kid-modus naar hulpschema-kid.html, anders naar app.html
    function __goBackHulpschema() {
      const qp = new URLSearchParams(location.search);
      if (qp.get('kid') === '1') {
        const range = qp.get('range') || '100';
        window.location.href = `./hulpschema-kid.html?range=${range}`;
      } else {
        window.location.href = './app.html';
      }
    }
    // Wisselen tussen plus/min, m√©t behoud van ?kid=1 en ?range=...
    function __wisselHulpschema(toPage) {
      const qp = new URLSearchParams(location.search);
      const params = new URLSearchParams();
      if (qp.get('kid') === '1') params.set('kid','1');
      if (qp.get('range'))      params.set('range', qp.get('range'));
      const qs = params.toString();
      window.location.href = `./${toPage}${qs ? ('?' + qs) : ''}`;
    }
  </script>

  <!-- PRO scripts (ongewijzigd) -->
  <script src="./js/device-id.js"></script>
  <script type="module" src="./js/guard.js"></script>
  <script src="../hulpschema.js"></script>
</body>
</html>

